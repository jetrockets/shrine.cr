<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.35.1">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="shrine">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="shrine">
  <title>Shrine::UploadedFile - shrine master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          shrine
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="shrine/Shrine" data-name="shrine">
      <a href="../Shrine.html">Shrine</a>
      
        <ul>
  
  <li class="parent " data-id="shrine/Shrine/Attacher" data-name="shrine::attacher">
      <a href="../Shrine/Attacher.html">Attacher</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/Attacher/ClassMethods" data-name="shrine::attacher::classmethods">
      <a href="../Shrine/Attacher/ClassMethods.html">ClassMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Attacher/InstanceMethods" data-name="shrine::attacher::instancemethods">
      <a href="../Shrine/Attacher/InstanceMethods.html">InstanceMethods</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="shrine/Shrine/ClassMethods" data-name="shrine::classmethods">
      <a href="../Shrine/ClassMethods.html">ClassMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Error" data-name="shrine::error">
      <a href="../Shrine/Error.html">Error</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/FileNotFound" data-name="shrine::filenotfound">
      <a href="../Shrine/FileNotFound.html">FileNotFound</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/HabitatSettings" data-name="shrine::habitatsettings">
      <a href="../Shrine/HabitatSettings.html">HabitatSettings</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/InstanceMethods" data-name="shrine::instancemethods">
      <a href="../Shrine/InstanceMethods.html">InstanceMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/InvalidFile" data-name="shrine::invalidfile">
      <a href="../Shrine/InvalidFile.html">InvalidFile</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/NotCached" data-name="shrine::notcached">
      <a href="../Shrine/NotCached.html">NotCached</a>
      
    </li>
  
  <li class="parent " data-id="shrine/Shrine/Plugins" data-name="shrine::plugins">
      <a href="../Shrine/Plugins.html">Plugins</a>
      
        <ul>
  
  <li class="parent " data-id="shrine/Shrine/Plugins/AddMetadata" data-name="shrine::plugins::addmetadata">
      <a href="../Shrine/Plugins/AddMetadata.html">AddMetadata</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/Plugins/AddMetadata/InstanceMethods" data-name="shrine::plugins::addmetadata::instancemethods">
      <a href="../Shrine/Plugins/AddMetadata/InstanceMethods.html">InstanceMethods</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="shrine/Shrine/Plugins/Column" data-name="shrine::plugins::column">
      <a href="../Shrine/Plugins/Column.html">Column</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/Plugins/Column/AttacherClassMethods" data-name="shrine::plugins::column::attacherclassmethods">
      <a href="../Shrine/Plugins/Column/AttacherClassMethods.html">AttacherClassMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/Column/AttacherMethods" data-name="shrine::plugins::column::attachermethods">
      <a href="../Shrine/Plugins/Column/AttacherMethods.html">AttacherMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/Column/BaseSerializer" data-name="shrine::plugins::column::baseserializer">
      <a href="../Shrine/Plugins/Column/BaseSerializer.html">BaseSerializer</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/Column/JsonSerializer" data-name="shrine::plugins::column::jsonserializer">
      <a href="../Shrine/Plugins/Column/JsonSerializer.html">JsonSerializer</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="shrine/Shrine/Plugins/DetermineMimeType" data-name="shrine::plugins::determinemimetype">
      <a href="../Shrine/Plugins/DetermineMimeType.html">DetermineMimeType</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/Plugins/DetermineMimeType/ClassMethods" data-name="shrine::plugins::determinemimetype::classmethods">
      <a href="../Shrine/Plugins/DetermineMimeType/ClassMethods.html">ClassMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/DetermineMimeType/InstanceMethods" data-name="shrine::plugins::determinemimetype::instancemethods">
      <a href="../Shrine/Plugins/DetermineMimeType/InstanceMethods.html">InstanceMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/DetermineMimeType/MimeTypeAnalyzer" data-name="shrine::plugins::determinemimetype::mimetypeanalyzer">
      <a href="../Shrine/Plugins/DetermineMimeType/MimeTypeAnalyzer.html">MimeTypeAnalyzer</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/DetermineMimeType/Tools" data-name="shrine::plugins::determinemimetype::tools">
      <a href="../Shrine/Plugins/DetermineMimeType/Tools.html">Tools</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="shrine/Shrine/Plugins/StoreDimensions" data-name="shrine::plugins::storedimensions">
      <a href="../Shrine/Plugins/StoreDimensions.html">StoreDimensions</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/Plugins/StoreDimensions/ClassMethods" data-name="shrine::plugins::storedimensions::classmethods">
      <a href="../Shrine/Plugins/StoreDimensions/ClassMethods.html">ClassMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/StoreDimensions/DimensionsAnalyzer" data-name="shrine::plugins::storedimensions::dimensionsanalyzer">
      <a href="../Shrine/Plugins/StoreDimensions/DimensionsAnalyzer.html">DimensionsAnalyzer</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/StoreDimensions/FileMethods" data-name="shrine::plugins::storedimensions::filemethods">
      <a href="../Shrine/Plugins/StoreDimensions/FileMethods.html">FileMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/StoreDimensions/IdentifyAnalyzer" data-name="shrine::plugins::storedimensions::identifyanalyzer">
      <a href="../Shrine/Plugins/StoreDimensions/IdentifyAnalyzer.html">IdentifyAnalyzer</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/StoreDimensions/InstanceMethods" data-name="shrine::plugins::storedimensions::instancemethods">
      <a href="../Shrine/Plugins/StoreDimensions/InstanceMethods.html">InstanceMethods</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Plugins/StoreDimensions/Tools" data-name="shrine::plugins::storedimensions::tools">
      <a href="../Shrine/Plugins/StoreDimensions/Tools.html">Tools</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="shrine/Shrine/PluginSettings" data-name="shrine::pluginsettings">
      <a href="../Shrine/PluginSettings.html">PluginSettings</a>
      
    </li>
  
  <li class="parent " data-id="shrine/Shrine/Storage" data-name="shrine::storage">
      <a href="../Shrine/Storage.html">Storage</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/Storage/Base" data-name="shrine::storage::base">
      <a href="../Shrine/Storage/Base.html">Base</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Storage/FileSystem" data-name="shrine::storage::filesystem">
      <a href="../Shrine/Storage/FileSystem.html">FileSystem</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Storage/Memory" data-name="shrine::storage::memory">
      <a href="../Shrine/Storage/Memory.html">Memory</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/Storage/S3" data-name="shrine::storage::s3">
      <a href="../Shrine/Storage/S3.html">S3</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent open current" data-id="shrine/Shrine/UploadedFile" data-name="shrine::uploadedfile">
      <a href="../Shrine/UploadedFile.html">UploadedFile</a>
      
        <ul>
  
  <li class=" " data-id="shrine/Shrine/UploadedFile/Mapper" data-name="shrine::uploadedfile::mapper">
      <a href="../Shrine/UploadedFile/Mapper.html">Mapper</a>
      
    </li>
  
  <li class=" " data-id="shrine/Shrine/UploadedFile/MetadataType" data-name="shrine::uploadedfile::metadatatype">
      <a href="../Shrine/UploadedFile/MetadataType.html">MetadataType</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Shrine::UploadedFile

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Shrine/UploadedFile.html">Shrine::UploadedFile</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>








  <h2>
    <a id="included-modules" class="anchor" href="#included-modules">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Included Modules
  </h2>
  <ul class="other-types-list">
    
      <li class="other-type">JSON::Serializable</li>
    
  </ul>










  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L4" target="_blank">
        shrine/uploaded_file.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(id:String,storage_key:String,metadata:MetadataType=MetadataType.new)-class-method" class="signature"><strong>.new</strong>(id : String, storage_key : String, metadata : MetadataType = <span class="t">MetadataType</span>.<span class="k">new</span>)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(pull:JSON::PullParser)-class-method" class="signature"><strong>.new</strong>(pull : JSON::PullParser)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(mapper:Mapper)-class-method" class="signature"><strong>.new</strong>(mapper : Mapper)</a>
        
      </li>
    
  </ul>



  <h2>
    <a id="class-method-summary" class="anchor" href="#class-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#from_json(json:String)-class-method" class="signature"><strong>.from_json</strong>(json : String)</a>
        
      </li>
    
  </ul>



  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#==(other:UploadedFile)-instance-method" class="signature"><strong>#==</strong>(other : UploadedFile)</a>
        
          <div class="summary"><p>Returns true if the other UploadedFile is uploaded to the same storage and it has the same #id.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[](key)-instance-method" class="signature"><strong>#[]</strong>(key)</a>
        
          <div class="summary"><p>Shorthand for accessing metadata values.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#close-instance-method" class="signature"><strong>#close</strong></a>
        
          <div class="summary"><p>Part of complying to the IO interface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#content_type-instance-method" class="signature"><strong>#content_type</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#data:Hash(String,String%7CMetadataType)-instance-method" class="signature"><strong>#data</strong> : Hash(String, String | MetadataType)</a>
        
          <div class="summary"><p>Returns serializable hash representation of the uploaded file.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#delete-instance-method" class="signature"><strong>#delete</strong></a>
        
          <div class="summary"><p>Calls <code><a href="../Shrine/UploadedFile.html#delete-instance-method">#delete</a></code> on the storage, which deletes the file from the storage.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#download(**options)-instance-method" class="signature"><strong>#download</strong>(**options)</a>
        
          <div class="summary"><p>Streams content into a newly created tempfile and returns it.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#download(**options,&)-instance-method" class="signature"><strong>#download</strong>(**options, &)</a>
        
          <div class="summary"><p>Streams content into a newly created tempfile, yields it to the block, and at the end of the block automatically closes it.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#exists?-instance-method" class="signature"><strong>#exists?</strong></a>
        
          <div class="summary"><p>Calls <code><a href="../Shrine/UploadedFile.html#exists?-instance-method">#exists?</a></code> on the storage, which checks whether the file exists on the storage.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#extension-instance-method" class="signature"><strong>#extension</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#gets_to_end(*args,**options)-instance-method" class="signature"><strong>#gets_to_end</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#gets_to_end(*args,**options,&)-instance-method" class="signature"><strong>#gets_to_end</strong>(*args, **options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#id(*args,**options,&)-instance-method" class="signature"><strong>#id</strong>(*args, **options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#id(*args,**options)-instance-method" class="signature"><strong>#id</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#io:IO-instance-method" class="signature"><strong>#io</strong> : IO</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#metadata(*args,**options,&)-instance-method" class="signature"><strong>#metadata</strong>(*args, **options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#metadata(*args,**options)-instance-method" class="signature"><strong>#metadata</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#mime_type-instance-method" class="signature"><strong>#mime_type</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#open(**options,&)-instance-method" class="signature"><strong>#open</strong>(**options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#open(**options)-instance-method" class="signature"><strong>#open</strong>(**options)</a>
        
          <div class="summary"><p>Calls <code><a href="../Shrine/UploadedFile.html#open(**options,&)-instance-method">#open</a></code> on the storage to open the uploaded file for reading.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#opened?-instance-method" class="signature"><strong>#opened?</strong></a>
        
          <div class="summary"><p>Returns whether the file has already been opened.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#original_filename-instance-method" class="signature"><strong>#original_filename</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#pos(*args,**options,&)-instance-method" class="signature"><strong>#pos</strong>(*args, **options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#pos(*args,**options)-instance-method" class="signature"><strong>#pos</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#replace(io,**options)-instance-method" class="signature"><strong>#replace</strong>(io, **options)</a>
        
          <div class="summary"><p>Uploads a new file to this file's location and returns it.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#size-instance-method" class="signature"><strong>#size</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#storage:Shrine::Storage::Base-instance-method" class="signature"><strong>#storage</strong> : Shrine::Storage::Base</a>
        
          <div class="summary"><p>Returns the storage that this file was uploaded to.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#storage_key(*args,**options,&)-instance-method" class="signature"><strong>#storage_key</strong>(*args, **options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#storage_key(*args,**options)-instance-method" class="signature"><strong>#storage_key</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#stream(destination:IO,**options)-instance-method" class="signature"><strong>#stream</strong>(destination : IO, **options)</a>
        
          <div class="summary"><p>Streams uploaded file content into the specified destination.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_json(*args,**options,&)-instance-method" class="signature"><strong>#to_json</strong>(*args, **options, &)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_json(*args,**options)-instance-method" class="signature"><strong>#to_json</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#uploader-instance-method" class="signature"><strong>#uploader</strong></a>
        
          <div class="summary"><p>Returns an uploader object for the corresponding storage.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#url(**options):String-instance-method" class="signature"><strong>#url</strong>(**options) : String</a>
        
          <div class="summary"><p>Calls <code><a href="../Shrine/UploadedFile.html#url(**options):String-instance-method">#url</a></code> on the storage, forwarding any given URL options.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(id:String,storage_key:String,metadata:MetadataType=MetadataType.new)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(id : String, storage_key : String, metadata : <a href="../Shrine/UploadedFile/MetadataType.html">MetadataType</a> = <span class="t">MetadataType</span>.<span class="k">new</span>)

        <a class="method-permalink" href="#new(id:String,storage_key:String,metadata:MetadataType=MetadataType.new)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L36" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(pull:JSON::PullParser)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(pull : JSON::PullParser)

        <a class="method-permalink" href="#new(pull:JSON::PullParser)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L5" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(mapper:Mapper)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(mapper : <a href="../Shrine/UploadedFile/Mapper.html">Mapper</a>)

        <a class="method-permalink" href="#new(mapper:Mapper)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L33" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="class-method-detail" class="anchor" href="#class-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Detail
  </h2>
  
    <div class="entry-detail" id="from_json(json:String)-class-method">
      <div class="signature">
        
        def self.<strong>from_json</strong>(json : String)

        <a class="method-permalink" href="#from_json(json:String)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L29" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="==(other:UploadedFile)-instance-method">
      <div class="signature">
        
        def <strong>==</strong>(other : <a href="../Shrine/UploadedFile.html">UploadedFile</a>)

        <a class="method-permalink" href="#==(other:UploadedFile)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns true if the other UploadedFile is uploaded to the same
storage and it has the same #id.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L215" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[](key)-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(key)

        <a class="method-permalink" href="#[](key)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Shorthand for accessing metadata values.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L70" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="close-instance-method">
      <div class="signature">
        
        def <strong>close</strong>

        <a class="method-permalink" href="#close-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Part of complying to the IO interface. It delegates to the internally
opened IO object.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L163" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="content_type-instance-method">
      <div class="signature">
        
        def <strong>content_type</strong>

        <a class="method-permalink" href="#content_type-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L61" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="data:Hash(String,String|MetadataType)-instance-method">
      <div class="signature">
        
        def <strong>data</strong> : Hash(String, String | <a href="../Shrine/UploadedFile/MetadataType.html">MetadataType</a>)

        <a class="method-permalink" href="#data:Hash(String,String%7CMetadataType)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns serializable hash representation of the uploaded file.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L209" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="delete-instance-method">
      <div class="signature">
        
        def <strong>delete</strong>

        <a class="method-permalink" href="#delete-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Calls <code><a href="../Shrine/UploadedFile.html#delete-instance-method">#delete</a></code> on the storage, which deletes the file from the
storage.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L190" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="download(**options)-instance-method">
      <div class="signature">
        
        def <strong>download</strong>(**options)

        <a class="method-permalink" href="#download(**options)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Streams content into a newly created tempfile and returns it.</p>

<pre><code class="language-crystal">uploaded_file.download
<span class="c"># =&gt; #&lt;File:/var/folders/.../20180302-33119-1h1vjbq.jpg&gt;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L117" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="download(**options,&)-instance-method">
      <div class="signature">
        
        def <strong>download</strong>(**options, &)

        <a class="method-permalink" href="#download(**options,&)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Streams content into a newly created tempfile, yields it to the
block, and at the end of the block automatically closes it.
In this case the return value of the method is the block
return value.</p>

<pre><code class="language-crystal">uploaded_file.download { <span class="o">|</span>tempfile<span class="o">|</span> tempfile.gets_to_end } <span class="c"># tempfile is deleted</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L132" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="exists?-instance-method">
      <div class="signature">
        
        def <strong>exists?</strong>

        <a class="method-permalink" href="#exists?-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Calls <code><a href="../Shrine/UploadedFile.html#exists?-instance-method">#exists?</a></code> on the storage, which checks whether the file exists
on the storage.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L179" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="extension-instance-method">
      <div class="signature">
        
        def <strong>extension</strong>

        <a class="method-permalink" href="#extension-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L43" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="gets_to_end(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>gets_to_end</strong>(*args, **options)

        <a class="method-permalink" href="#gets_to_end(*args,**options)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L41" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="gets_to_end(*args,**options,&)-instance-method">
      <div class="signature">
        
        def <strong>gets_to_end</strong>(*args, **options, &)

        <a class="method-permalink" href="#gets_to_end(*args,**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L41" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="id(*args,**options,&)-instance-method">
      <div class="signature">
        
        def <strong>id</strong>(*args, **options, &)

        <a class="method-permalink" href="#id(*args,**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="id(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>id</strong>(*args, **options)

        <a class="method-permalink" href="#id(*args,**options)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="io:IO-instance-method">
      <div class="signature">
        
        def <strong>io</strong> : IO

        <a class="method-permalink" href="#io:IO-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L204" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="metadata(*args,**options,&)-instance-method">
      <div class="signature">
        
        def <strong>metadata</strong>(*args, **options, &)

        <a class="method-permalink" href="#metadata(*args,**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="metadata(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>metadata</strong>(*args, **options)

        <a class="method-permalink" href="#metadata(*args,**options)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="mime_type-instance-method">
      <div class="signature">
        
        def <strong>mime_type</strong>

        <a class="method-permalink" href="#mime_type-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L57" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="open(**options,&)-instance-method">
      <div class="signature">
        
        def <strong>open</strong>(**options, &)

        <a class="method-permalink" href="#open(**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L99" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="open(**options)-instance-method">
      <div class="signature">
        
        def <strong>open</strong>(**options)

        <a class="method-permalink" href="#open(**options)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Calls <code><a href="../Shrine/UploadedFile.html#open(**options,&)-instance-method">#open</a></code> on the storage to open the uploaded file for reading.
Most storages will return a lazy IO object which dynamically
retrieves file content from the storage as the object is being read.</p>

<p>If a block is given, the opened IO object is yielded to the block,
and at the end of the block it's automatically closed. In this case
the return value of the method is the block return value.</p>

<p>If no block is given, the opened IO object is returned.</p>

<pre><code class="language-crystal">uploaded_file.open <span class="c"># =&gt; IO object returned by the storage</span>
uploaded_file.read <span class="c"># =&gt; &quot;...&quot;</span>
uploaded_file.close

<span class="c"># or</span>

uploaded_file.open { <span class="o">|</span>io<span class="o">|</span> io.read } <span class="c"># the IO is automatically closed</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L94" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="opened?-instance-method">
      <div class="signature">
        
        def <strong>opened?</strong>

        <a class="method-permalink" href="#opened?-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns whether the file has already been opened.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L168" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="original_filename-instance-method">
      <div class="signature">
        
        def <strong>original_filename</strong>

        <a class="method-permalink" href="#original_filename-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L65" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="pos(*args,**options,&)-instance-method">
      <div class="signature">
        
        def <strong>pos</strong>(*args, **options, &)

        <a class="method-permalink" href="#pos(*args,**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L40" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="pos(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>pos</strong>(*args, **options)

        <a class="method-permalink" href="#pos(*args,**options)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L40" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="replace(io,**options)-instance-method">
      <div class="signature">
        
        def <strong>replace</strong>(io, **options)

        <a class="method-permalink" href="#replace(io,**options)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Uploads a new file to this file's location and returns it.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L184" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="size-instance-method">
      <div class="signature">
        
        def <strong>size</strong>

        <a class="method-permalink" href="#size-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L51" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="storage:Shrine::Storage::Base-instance-method">
      <div class="signature">
        
        def <strong>storage</strong> : <a href="../Shrine/Storage/Base.html">Shrine::Storage::Base</a>

        <a class="method-permalink" href="#storage:Shrine::Storage::Base-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the storage that this file was uploaded to.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L200" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="storage_key(*args,**options,&)-instance-method">
      <div class="signature">
        
        def <strong>storage_key</strong>(*args, **options, &)

        <a class="method-permalink" href="#storage_key(*args,**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="storage_key(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>storage_key</strong>(*args, **options)

        <a class="method-permalink" href="#storage_key(*args,**options)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="stream(destination:IO,**options)-instance-method">
      <div class="signature">
        
        def <strong>stream</strong>(destination : IO, **options)

        <a class="method-permalink" href="#stream(destination:IO,**options)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Streams uploaded file content into the specified destination. The
destination object is given directly to <code>IO.copy</code>.</p>

<p>If the uploaded file is already opened, it will be simply rewinded
after streaming finishes. Otherwise the uploaded file is opened and
then closed after streaming.</p>

<pre><code class="language-crystal">uploaded_file.stream(<span class="t">IO</span><span class="t">::</span><span class="t">Memory</span>.<span class="k">new</span>)</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L152" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_json(*args,**options,&)-instance-method">
      <div class="signature">
        
        def <strong>to_json</strong>(*args, **options, &)

        <a class="method-permalink" href="#to_json(*args,**options,&)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_json(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>to_json</strong>(*args, **options)

        <a class="method-permalink" href="#to_json(*args,**options)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
      </div>
    </div>
  
    <div class="entry-detail" id="uploader-instance-method">
      <div class="signature">
        
        def <strong>uploader</strong>

        <a class="method-permalink" href="#uploader-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns an uploader object for the corresponding storage.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L195" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="url(**options):String-instance-method">
      <div class="signature">
        
        def <strong>url</strong>(**options) : String

        <a class="method-permalink" href="#url(**options):String-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Calls <code><a href="../Shrine/UploadedFile.html#url(**options):String-instance-method">#url</a></code> on the storage, forwarding any given URL options.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jetrockets/shrine.cr/blob/57cfffe7af9f982f877833a75a7e15f10414abfb/src/shrine/uploaded_file.cr#L173" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
